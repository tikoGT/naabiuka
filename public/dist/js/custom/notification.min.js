'use strict';function handleNotificationAction(a,b,c,d){a.css("pointer-events","none");var e=c?"icon-eye":"icon-eye-off",f=c?"icon-eye-off":"icon-eye",g=c?markReadUrl:markUnreadUrl;$.ajax({url:g+b,type:"patch",dataType:"json",data:{_token:token},success:function(b){1===b&&(a.css("pointer-events","all"),$("#user_notification_container").length?a.find("img").attr("src",function(a,b){return b.replace(f,e)}):(a.attr("data-bs-original-title",d),a.find("i").toggleClass(f+" "+e),$(a).tooltip("dispose").tooltip("show")))}})}$(document).on("click",".marked-toggle",function(){var a=$(this).data("id"),b=$(this).find("i").hasClass("icon-eye-off");handleNotificationAction($(this),a,b,jsLang("Mark As Unread"))}),$("#user_notification_container").length&&$(document).on("click",".marked-action",function(){var a=$(this).data("id"),b=$(this).find("img").attr("src").includes("icon-eye-off");handleNotificationAction($(this),a,b)}),$(document).on("click",".prms",function(){var a=$(this).find(".p-prms").attr("id"),b=!1;$("#"+a).hasClass("fa-check text-success")&&($("#"+a).removeClass("fa-check text-success"),b=!0),$("#"+a).hasClass("fa-times text-danger")&&$("#"+a).removeClass("fa-times text-danger"),$("#"+a).addClass("fa-spinner prms-loader"),$.ajax({url:SITE_URL+"/notifications/setting",type:"POST",data:{_token:token,notification_type:$(this).data("notification_type"),channel:$(this).data("channel"),is_active:b?0:1},success:function(c){$("#"+a).hasClass("fa-spinner prms-loader")&&$("#"+a).removeClass("fa-spinner prms-loader"),c?b?$("#"+a).addClass("fa-times text-danger"):$("#"+a).addClass("fa-check text-success"):b?$("#"+a).addClass("fa-check text-success"):$("#"+a).addClass("fa-times text-danger")}})});
