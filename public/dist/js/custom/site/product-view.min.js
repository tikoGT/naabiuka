"use strict";var defaultPrice=$("#item_priceV").text(),selectedIds=[],discountInPercent=0,actualArray=[];possbileVariations=JSON.parse(possbileVariations),defaultSelectV(),"Variable Product"!=itemType&&getCountDownV(formatedSaleTo,offerFlag),$(".placeholder-loader").css("display","none"),$(document).off("click",".open-view-modal").on("click",".open-view-modal",(function(){$(".placeholder-loader").css("display","block"),$(".item-view-content").css("display","none"),$("#view-modal").css("display","flex");var itemCode=$(this).attr("data-itemCode");$.ajax({url:SITE_URL+"/product/quick-view/"+itemCode,type:"GET",success:function(data){isGroupProduct=0,$(".placeholder-loader").css("display","none"),$(".item-view-content").css("display","block"),$("#item-view-load").html(data),$("#view-modal").css("display","flex")}})})),$(document).on("click",(function(e){$(e.target).closest("#view-modal-main").length>0||$(e.target).closest(".open-view-modal").length>0||(tempIsGroupProduct&&(qty=1),itemType=tempItemType,isGroupProduct=tempIsGroupProduct,$("#view-modal").css("display","none"),$(".placeholder-loader").css("display","block"),$(".item-view-content").css("display","none"))})),$(document).on("click",".open-view-modal-close",(function(e){qty=1,isGroupProduct=tempIsGroupProduct,itemType=tempItemType,$("#view-modal").css("display","none"),$(".placeholder-loader").css("display","block"),$(".item-view-content").css("display","none")}));var mainPriceV=$("#item_priceV").text().replace(/,/g,""),amountV=[];function enableAddToCartV(optionRealId){let allOption=[];$.each($(".option_priceV"),(function(i,v){allOption[i]=void 0!==$(this).find(":selected").attr("data-optionRealId")?$(this).find(":selected").attr("data-optionRealId"):$(this).attr("data-optionRealId")})),jQuery.inArray(optionRealId,allOption)||($("#item-add-to-cartV").addClass("add-to-cart"),$("#item-add-to-cartV").removeClass("disable_a_href"))}$(".singleCheckBoxV").on("click",(function(){let selectedOptionId=$(this).attr("data-optionId"),selectedOption=$(this).attr("data-option");$(".multiChkV-"+selectedOption).each((function(){$(this).attr("data-optionId")!=selectedOptionId&&$(this).prop("checked",!1)}))}));var galleryThumbs=new Swiper(".gallery-thumbsV",{observer:!0,observeParents:!0,spaceBetween:17,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1024:{slidesPerView:5,spaceBetween:17}}}),swiper=new Swiper(".swiper-container-mainV",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:galleryThumbs}});function defaultSelectV(){$.each($(".item-variationsV option"),(function(){this.selected&&(0!=$(this).val().length?getPossibleIdV($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")):removeAllhiddenV(),getVariationIdsV(),attributePriceV(),1==checkOneSelectedV()?$("#clear-variationV").removeClass("display-none"):$("#clear-variationV").addClass("display-none"))}))}function attributePriceV(){let parseAttributePriceWithId,flag=!0;parseAttributePriceWithId=JSON.parse(attributePriceWithId),$.each(parseAttributePriceWithId,(function(i,v){if(getPossbileAttributeWithPriceV(v.attributeIds)){if(flag=!1,selectedIds=[],$("#availabilityV").addClass("display-none"),$("#item_priceV").removeClass("display-none"),$("#item_priceV").text(decimalNumberFormatWithCurrency(v.price)),$("#varMinMaxPriceV").addClass("display-none"),variationId=v.variation_id,variationAttributeIds=v.attributeIds,backOrders=v.backOrders,"sale"==v.priceType?(discountInPercent=v.discountInPercent,offerFlag=!0,getCountDownV(v.saleTo,!0)):(offerFlag=!1,$("#countDownV").addClass("display-none")),variationImageV(v.images),"1"==v.is_enable_b2b?($("#b2b_tableV").html(""),showB2BDataV(v.b2b_data)):$("#b2b_tableV").html(""),1==v.manage_stocks&&0==stockHide&&parseInt(v.stock_quantity)>=0){if($("#stock_qtyV").removeClass("display-none"),"always_show"==stockDisplayFormat){var message=jsLang(":x items remaining");message=message.replace(":x",v.stock_quantity),$("#stock_qtyV").html("<span class='text-green-1 capitalize leading-4 bg-green-2 px-4 py-2 text-sm roboto-medium font-medium rounded mr-2.5 rtl-direction-space-left'>"+jsLang("In Stock")+"</span> "+message)}else if("sometime_show"==stockDisplayFormat&&parseInt(v.stock_quantity)<=parseInt(v.lowStockThreshold)&&0!=parseInt(v.stock_quantity)){var msg=jsLang("Only :x left in stock");msg=msg.replace(":x",v.stock_quantity),$("#stock_qtyV").text(msg)}}else 1==v.manage_stocks&&0==stockHide&&parseInt(v.stock_quantity)<=0&&0==backOrders?($("#stock_qtyV").removeClass("display-none"),"always_show"!=stockDisplayFormat&&"sometime_show"!=stockDisplayFormat||$("#stock_qtyV").html('<span class="text-reds-3 leading-4 bg-pinks-2 px-4 py-2 text-sm roboto-medium font-medium rounded capitalize">'+jsLang("Out Of Stock")+"</span>")):$("#stock_qtyV").addClass("display-none");return!1}})),1==flag&&(variationId=null,variationAttributeIds=[],$("#item_priceV").addClass("display-none"),$("#stock_qtyV").addClass("display-none"),$("#varMinMaxPriceV").removeClass("display-none"),1==checkAllSelectedV()&&$("#availabilityV").removeClass("display-none"),variationImageV(null,"default"))}function showB2BDataV(b2bData){let b2bRow="";$.each(b2bData,(function(i,b2b){b2b.min_qty&&b2b.max_qty&&b2b.price&&(b2bRow+=`<tr class="py-4 px-6 border">\n                        <td class="py-4 px-6 border">${b2b.min_qty}</td>\n                        <td class="py-4 px-6 border">${b2b.max_qty}</td>\n                        <td class="py-4 px-6 border">${b2b.price}</td>\n                    </tr>`)}));let b2bTable=`<table class="text-left w-full border-collapse border text-sm md:text-13 mt-10p">\n                            <tbody class="text-gray-10 roboto-medium">\n                              <th class="py-4 px-6 border">${jsLang("Min Qty")}</th>\n                              <th class="py-4 px-6 border">${jsLang("Max Qty")}</th>\n                              <th class="py-4 px-6 border">${jsLang("B2B prices")}</th>\n                              ${b2bRow}\n                            </tbody>\n                          </table>`;$("#b2b_tableV").append(b2bTable)}function checkAllSelectedV(){let flag=!0;return $(".item-variationsV").each((function(i,v){0!=$(this).val().length?0!=flag&&(flag=!0):flag=!1})),flag}function checkOneSelectedV(){let flag=!1;return $(".item-variationsV").each((function(i,v){0!=$(this).val().length&&(flag=!0)})),flag}function getPossibleIdV(value,position){let selectableId=possbileVariations[value];void 0!==actualArray&&0==actualArray.length&&(actualArray=selectableId),$(".item-variationsV option").each((function(i,v){$(this).is(":selected")||0==$(this).val().length||(-1!=jQuery.inArray($(this).attr("data-id"),actualArray)?$(this).removeClass("display-none"):1==$(this).attr("data-position")?0==checkPositionV($(this).attr("data-position"))&&$(this).addClass("display-none"):$(this).addClass("display-none"))}))}function checkPositionV(position){let flag=!0;return 1==position&&$(".item-variationsV option").each((function(i,v){$(this).is(":selected")&&$(this).attr("data-position")==position?0!=flag&&(flag=!0):$(this).is(":selected")&&0!=$(this).val().length&&(flag=!1)})),flag}function removeAllhiddenV(isAll=!1){let flag=!0;$(".item-variationsV").each((function(i,v){0==$(this).val().length?0!=flag&&(flag=!0):flag=isAll})),1==flag&&(actualArray=[],$(".item-variationsV option").each((function(i,v){$(this).removeClass("display-none")})),1==isAll&&$(".item-variationsV").each((function(i,v){$(this).val("")})))}function variationImageV(images,action="variation"){let sliderImage="",zoomImage="",cnt=0,featuredHtml="",reviewAvgHtml="",discountHtml="";if(1==parseInt(featured)&&(featuredHtml=`<p class="primary-bg-color h-5 w-max mb-2.5 justify-center text-white px-2 flex items-center text-center rounded-sm leading-3 roboto-medium font-medium text-11">${jsLang("Featured")}</p>`),5==parseInt(reviewAvg)&&(reviewAvgHtml=`<div class="flex justify-center items-center px-1.5 whitespace-nowrap mb-2.5 bg-green-5 h-5 leading-3 roboto-medium font-medium text-white text-11 w-max rounded-sm">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                                <path d="M5 0L6.12257 3.45492H9.75528L6.81636 5.59017L7.93893 9.04508L5 6.90983L2.06107 9.04508L3.18364 5.59017L0.244718 3.45492H3.87743L5 0Z" fill="white"/>\n                            </svg>\n                            <p>${jsLang("Top Rated")}</p>\n                        </div>`),1==offerFlag&&(discountHtml=`<p class="primary-bg-color h-5 text-gray-12 px-2 mb-2.5 justify-center flex items-center rounded-sm leading-3 roboto-medium w-max font-medium text-11 whitespace-nowrap uppercase">${discountInPercent}% ${jsLang("off")}</p>`),"variation"==action)cnt++,sliderImage+=`\n                     <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">\n                        <img class="p-1.5 object-contain h-12 cursor-pointer" src="${images}" alt="">\n                    </div>\n                `,zoomImage+=`\n                    <div class="absolute z-10 left-3.5 top-3.5">\n                        ${featuredHtml}\n                        ${reviewAvgHtml}\n                        ${discountHtml}\n                    </div>\n                     <div class="swiper-slide minimum-height neg-transition-scale w-full zoom" style="background-image: url(${images})">\n                            <img class="swiper-slide-img neg-transition-scale" src="${images}" alt="...">\n                      </div>\n                `,$("#zoomImageV").html(zoomImage),$("#sliderImageV").html(sliderImage);else if("default"==action){let defaultParse="";discountHtml="",defaultParse=JSON.parse(defaultImages),$.each(defaultParse,(function(i,v){if(cnt++,videoExtensions.map(extension=>v.includes(extension)).includes(!0))var src=`<video\n                preload="auto"\n                >\n                <source src="${v}" type="video/mp4">\n            </video>`;else var src=`<img class="p-1.5 object-contain h-12 cursor-pointer" src="${v}" alt="...">`;if(defaultParse.length>1&&(sliderImage+=`\n                        <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">\n                            ${src}\n                        </div>\n                `),videoExtensions.map(extension=>v.includes(extension)).includes(!0))var isImg=!1,src=`<video\n                class="w-full h-[336px] md:h-[370px]"\n                controls\n                autoplay\n                muted\n                loop\n                >\n                <source src="${v}" type="video/mp4">\n            </video>`;else var isImg=!0,src=`<img class="swiper-slide-img neg-transition-scale" src="${v}" alt="...">`;zoomImage+=`\n                        <div class="absolute z-10 left-3.5 top-3.5">\n                            ${featuredHtml}\n                            ${reviewAvgHtml}\n                            ${discountHtml}\n                        </div>\n                        <div class="swiper-slide  minimum-height w-full ${isImg?"zoom":""} neg-transition-scale" style="background-image: url(${v})">\n                            ${src}\n                        </div>\n                `})),$("#zoomImageV").html(zoomImage),$("#sliderImageV").html(sliderImage)}slideImagecount=cnt;var galleryThumbs=new Swiper(".gallery-thumbsV",{spaceBetween:17,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1024:{slidesPerView:5,spaceBetween:17}}}),swiper=new Swiper(".swiper-container-mainV",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:galleryThumbs}});$(".zoom").mousemove((function(e){var offsetX,offsetY,x,y,zoomer=e.currentTarget;offsetX=e.offsetX?e.offsetX:e.touches[0].pageX,e.offsetY?offsetY=e.offsetY:offsetX=e.touches[0].pageX,x=offsetX/zoomer.offsetWidth*100,y=offsetY/zoomer.offsetHeight*100,zoomer.style.backgroundPosition=x+"% "+y+"%"}))}function getVariationIdsV(){let cnt=0;$(".item-variationsV option").each((function(i,v){$(this).is(":selected")&&0!=$(this).val().length&&(selectedIds[cnt++]=$(this).attr("data-id"))}))}function getPossbileAttributeWithPriceV(attributeIds){let flag=!0;if($.each(attributeIds,(function(i,v){-1!=jQuery.inArray(v,selectedIds)?0!=flag&&(flag=!0):(flag=!1,updateProductPriceV(defaultPrice,null))})),flag)return flag}function updateProductPriceV(price,action="variation"){"variation"==action?$("#item_priceV").text(decimalNumberFormatWithCurrency(price)):$("#item_priceV").text(price)}function getCountDownV(saleDate,isActive){if(clearInterval(offerTimer),1==isActive){let isValid=!1;var countDownDate=new Date(saleDate).getTime();offerTimer=setInterval((function(){var now=(new Date).getTime(),distance=countDownDate-now,days=Math.floor(distance/864e5),hours=Math.floor(distance%864e5/36e5),minutes=Math.floor(distance%36e5/6e4),seconds=Math.floor(distance%6e4/1e3);days>=0&&$("#count_daysV").length>0&&$("#count_othersV").length>0&&(isValid=!0,document.getElementById("count_daysV").innerHTML=days+jsLang("Days"),document.getElementById("count_othersV").innerHTML=hours+" "+jsLang("hrs")+" : "+minutes+" "+jsLang("mins")+" : "+ +seconds+" "+jsLang("sec"))}),1e3),setTimeout((function(){isValid?$("#countDownV").removeClass("display-none"):$("#countDownV").addClass("display-none")}),1e3)}}$(".zoom").mousemove((function(e){var offsetX,offsetY,x,y,zoomer=e.currentTarget;offsetX=e.offsetX?e.offsetX:e.touches[0].pageX,e.offsetY?offsetY=e.offsetY:offsetX=e.touches[0].pageX,x=offsetX/zoomer.offsetWidth*100,y=offsetY/zoomer.offsetHeight*100,zoomer.style.backgroundPosition=x+"% "+y+"%"})),$("#clear-variationV").on("click",(function(){removeAllhiddenV(!0),$("#clear-variationV").addClass("display-none"),$("#stock_qtyV").addClass("display-none"),$("#item_priceV").addClass("display-none"),$("#countDownV").addClass("display-none"),$("#varMinMaxPriceV").removeClass("display-none"),$("#b2b_tableV").html(""),variationImageV("","default"),variationId=null,variationAttributeIds=[]})),$(document).on("change",".item-variationsV",(function(event){0!=$(this).val().length?getPossibleIdV($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")):removeAllhiddenV(),getVariationIdsV(),attributePriceV(),1==checkOneSelectedV()?$("#clear-variationV").removeClass("display-none"):$("#clear-variationV").addClass("display-none")}));