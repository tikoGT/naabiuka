"use strict";let httpRequest,x=document.getElementById("addons-form-container");document.getElementById("addon-install-btn").onclick=function(){let e=x.closest(".addon-form-hide");e&&e.classList.remove("addon-form-hide"),x.classList.toggle("addon-form-show")},document.getElementById("cancel-addform").onclick=function(){x.classList.remove("addon-form-show")};var i,close=document.getElementsByClassName("addon-alert-closebtn");for(i=0;i<close.length;i++)close[i].onclick=function(){var e=this.parentElement;e.style.opacity="0",setTimeout(function(){e.style.display="none"},600)};let triggers=document.querySelectorAll(".addon-modal-trigger");function getAddonFormData(e){"#"!==e&&(toggleAddonLoading(),httpRequest.onreadystatechange=handleResponse,httpRequest.open("GET",e,!0),httpRequest.send(),$(document).on("click",".addon-remove-modal-close",function(){$(".addon-modal-window").addClass("addon-modal-hidden")}))}function addonModalToggle(){document.querySelector(".addon-modal-window").classList.toggle("addon-modal-hidden")}function handleResponse(){if(httpRequest.readyState===XMLHttpRequest.DONE){if(toggleAddonLoading(),200===httpRequest.status){let e=JSON.parse(httpRequest.responseText);e.status&&generateForm(e.html)}else alert("There was a problem with the request."),addonModalToggle()}}function generateForm(e){var t=document.createElement("div");t.innerHTML=e,document.querySelector(".modal-form-data .form").appendChild(t)}function setFormName(e){document.querySelector(".addon-modal-title").innerHTML=e}function toggleAddonLoading(){document.querySelector(".addon-form-loading").classList.toggle("addon-modal-dnone")}function clearForm(){document.querySelector(".modal-form-data .form").innerHTML="",setFormName("")}window.XMLHttpRequest?httpRequest=new XMLHttpRequest:window.ActiveXObject&&(httpRequest=new ActiveXObject("Microsoft.XMLHTTP")),triggers.forEach(e=>{e.addEventListener("click",function(){clearForm(),addonModalToggle(),setFormName(this.dataset.name),getAddonFormData(this.dataset.url)})}),document.querySelector(".addon-modal-close").addEventListener("click",function(){addonModalToggle()});const insTab=document.getElementById("ins-addon-tab"),avlTab=document.getElementById("avl-addon-tab"),insTable=document.getElementById("addons-ins-table-container"),avlTable=document.getElementById("addons-avl-table-container");function toggleActiveClass(e){[allTab,activeTab,inactiveTab].forEach(function(e){e.classList.remove("addons-active")}),e.classList.add("addons-active")}function showRows(e){tableRows.forEach(function(t){var a=t.getAttribute("data-status");t.style.display=a===e||"all"===e?"":"none"})}$(".addons-tab").on("click",e=>{e.target===insTab?(insTab.classList.add("addons-active"),insTable.classList.add("addons-show"),insTable.classList.remove("addons-hide"),avlTab.classList.remove("addons-active"),avlTable.classList.add("addons-hide")):(avlTab.classList.add("addons-active"),avlTable.classList.add("addons-show"),avlTable.classList.remove("addons-hide"),insTab.classList.remove("addons-active"),insTable.classList.add("addons-hide"))}),$(".search-box").on("keyup",function(){var e,t,a,n,o,d;for(o=0,t=(e=$(this).val()).toUpperCase(),a=$("table").find("tbody tr");o<a.length;o++)(n=a[o].querySelector(".addons-name"))&&((d=n.textContent||n.innerText).toUpperCase().indexOf(t)>-1?a[o].style.display="":a[o].style.display="none")}),$(document).on("change","input[type='file']",function(e){$(".custom-file-name-level").text(this?.files[0]?.name??jsLang("Choose file"))});var allTab=document.getElementById("ins-addon-tab"),activeTab=document.getElementById("active-addon-tab"),inactiveTab=document.getElementById("inactive-addon-tab"),tableRows=document.querySelectorAll("tr");allTab.addEventListener("click",function(){toggleActiveClass(allTab),showRows("all")}),activeTab.addEventListener("click",function(){toggleActiveClass(activeTab),showRows("1")}),inactiveTab.addEventListener("click",function(){toggleActiveClass(inactiveTab),showRows("0")});